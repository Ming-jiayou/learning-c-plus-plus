# 什么是TCP/IP模型？分层和协议详解

创造某物的过程中，一个重要的部分是能够想象那些尚未存在的事物。

这一技能在互联网的创造中起到了关键作用。如果没有人想象过如今我们每天都在使用的底层技术，就不会有猫的梗图。

为了使互联网成为可能，需要想象的两样东西是“层”和“协议”。

“层”是概念上的划分，将相似的功能分组在一起。“协议”这个词，大致意味着“我们在这里约定的方式”。

简而言之，层和协议可以向五岁的孩子解释为“人们认为听起来不错的主意，然后他们把这些主意写下来，以便其他人可以用同样的主意做事情。”

互联网协议套件就是用层和协议来描述的。总的来说，这个套件指的是使我们的无尽滚动成为可能的通信协议。

它通常以其基础协议来称呼：传输控制协议（TCP）和互联网协议（IP）。合在一起称为TCP/IP，这些协议描述了互联网上的数据如何打包、寻址、发送和接收。

这就是为什么互联网协议套件，或TCP/IP，像一个想象的彩虹层蛋糕。

## 层次是虚构的

如果你考虑彩虹层海绵蛋糕的一般性质，它主要由柔软、入口即化的香草味组成。这种美味本身由鸡蛋、黄油、面粉和甜味剂等原料构成。

彩虹海绵蛋糕的每一层之间并没有太多区别。通常，层与层之间的唯一不同在于食用色素和少许糖霜。仔细想想，从上到下其实都是蛋糕。彩虹般的分层仅仅是因为烘焙师认为它们应该存在而已。

类似于蛋糕的成分，在计算机网络的上下文中，层主要由协议、算法和配置组成，还有一些数据点缀其中。

将计算机网络的众多功能分组讨论可能会更容易，因此有人提出了分层的描述，我们称之为网络模型。TCP/IP只是众多网络模型中的一种。从这个意义上说，层是概念，而不是实物。

一些相关人员是互联网工程任务组（IETF）的成员。他们撰写了RFC-1122文档，讨论了互联网的通信层。作为整体的一半，该标准：

涵盖了通信协议层：链路层、IP 层和传输层；其配套的 RFC-1123 涵盖了应用层和支持协议。

RFC-1122和RFC-1123中描述的各层分别封装了满足该层功能的协议。让我们来看看这些通信层，并看看TCP和IP如何在这一网络层次结构中发挥作用。

## 链路层协议

链路层是最基本或最低级别的通信协议分类。它处理本地网络上主机之间的信息发送，并将来自更高层的数据转换为物理层的数据。

链路层中的协议描述了数据如何与传输介质交互，例如通过特定硬件发送的电子信号。与其他层不同，链路层协议依赖于所使用的硬件。

## 网络层协议

互联网层协议描述了数据在互联网上如何发送和接收。这个过程涉及将数据打包成数据包、对数据包进行寻址和传输，以及接收传入的数据包。

在这一层中最广为人知的协议是TCP/IP中的后两个字母。IP是一种无连接协议，这意味着它不保证数据包按正确顺序发送或接收，也不保证它们沿相同路径传输，甚至不保证数据包的完整性。

可靠性由该协议套件中的其他协议处理，例如传输层中的协议。

目前有两种版本的IP在使用中：IPv4和IPv6。两个版本都描述了互联网上的设备如何被分配IP地址，这些IP地址在光猫导航时使用。

IPv4 更为广泛使用，但它只有 32 位用于寻址，仅允许大约 43 亿（约 4.3×10^9）个可能的地址。这些地址正在逐渐耗尽，随着越来越多的人在互联网上使用更多设备，IPv4 最终将面临地址枯竭的问题。

继任版本 IPv6 旨在通过使用 128 位地址来解决地址枯竭问题。这提供了，呃，更多的地址可能性（约 3.4×10^38）。

## 传输层协议

1974年5月，Vint Cerf和Bob Kahn（常被合称为“互联网之父”）发表了一篇题为《分组网络互连协议》的论文。

这篇论文首次描述了传输控制程序的概念，这一概念后来演变为传输控制协议（TCP）和用户数据报协议（UDP）。（我有幸见过Vint，可以亲自证实，他的确长得和电影《黑客帝国》中的建筑师一模一样。）

传输层目前封装了TCP和UDP。与IP一样，UDP是无连接的，可以用于优先考虑时间而非可靠性。

另一方面，TCP 是一种面向连接的传输层协议，强调可靠性而非延迟。TCP 描述了按发送顺序传输数据、重新传输丢失的数据包以及控制数据传输速率的方法。

## 应用层协议

应用层描述了软件应用程序最常交互的协议。该规范包括对远程登录协议Telnet、文件传输协议（FTP）和简单邮件传输协议（SMTP）的描述。

应用层还包括超文本传输协议（HTTP）及其后续版本，超文本传输协议安全（HTTPS）。

HTTPS通过传输层安全性（TLS）进行加密，可以认为TLS是互联网协议套件中描述的网络模型的最顶层。

如果你想进一步了解TLS以及这个协议如何保障你观看光猫导航的安全，欢迎阅读我关于TLS和密码学的文章。

## 互联网蛋糕仍在烘焙中

像一块仍然在膨胀的海绵蛋糕，关于分层、更好的协议和新模型的描述每天都在不断发展。互联网，或者未来它将成为的样子，仍在想象的过程中。

## 来源

翻译自[What is the TCP/IP Model? Layers and Protocols Explained (freecodecamp.org)](https://www.freecodecamp.org/news/what-is-tcp-ip-layers-and-protocols-explained/)。



